<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connection Status Test</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <link rel="stylesheet" href="src/styles/waiting-room.css">
</head>
<body>
    <div id="app">
        <header class="waiting-room-header">
            <div class="header-content">
                <div class="header-right">
                    <div id="connection-status" class="connection-status">
                        <span class="status-indicator" id="status-indicator"></span>
                        <span class="status-text" id="status-text">Testing...</span>
                    </div>
                </div>
            </div>
        </header>

        <main style="padding: 2rem;">
            <h1>Connection Status Test</h1>
            <div style="margin: 1rem 0;">
                <button onclick="testConnected()">Test Connected</button>
                <button onclick="testConnecting()">Test Connecting</button>
                <button onclick="testDisconnected()">Test Disconnected</button>
                <button onclick="testReconnecting()">Test Reconnecting</button>
                <button onclick="testWarning()">Test Warning</button>
                <button onclick="testRecovery()">Test Recovery Options</button>
            </div>
            <div id="test-output" style="margin-top: 2rem; padding: 1rem; background: #f0f0f0; border-radius: 4px;">
                Test output will appear here...
            </div>
        </main>
    </div>

    <script type="module">
        import { WaitingRoomUI } from './src/ui/WaitingRoomUI.js';

        const ui = new WaitingRoomUI();
        const output = document.getElementById('test-output');

        window.testConnected = () => {
            ui.updateConnectionStatus('connected');
            output.innerHTML = 'Status set to: Connected';
        };

        window.testConnecting = () => {
            ui.updateConnectionStatus('connecting');
            output.innerHTML = 'Status set to: Connecting';
        };

        window.testDisconnected = () => {
            ui.updateConnectionStatus('disconnected');
            output.innerHTML = 'Status set to: Disconnected';
        };

        window.testReconnecting = () => {
            ui.updateConnectionStatus('reconnecting', { 
                reconnectAttempts: 2, 
                maxReconnectAttempts: 5 
            });
            output.innerHTML = 'Status set to: Reconnecting (2/5)';
        };

        window.testWarning = () => {
            ui.showConnectionWarning('warning', 'This is a test warning message');
            output.innerHTML = 'Warning displayed';
        };

        window.testRecovery = () => {
            ui.showConnectionRecoveryOptions({
                showRefresh: true,
                showRetry: true,
                showHttpFallback: true,
                onRefresh: () => output.innerHTML = 'Refresh clicked',
                onRetry: () => output.innerHTML = 'Retry clicked',
                onHttpFallback: () => output.innerHTML = 'HTTP Fallback clicked'
            });
            output.innerHTML = 'Recovery options displayed';
        };

        // Initial test
        ui.updateConnectionStatus('connecting');
        output.innerHTML = 'Connection status UI initialized';
    </script>
</body>
</html>